<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zifuji.cloud.server.sys.module.email.mapper.EmailMapper">
    <select id="selectListEmailRecord" resultType="com.zifuji.cloud.server.sys.module.email.bo.EmailRecordComponentMo">
        SELECT
            zser.id,
            zser.addr_from,
            zser.addr_to,
            zser.subject,
            zser.content,
            zser.file_id_list,
            zser.send_status,
            zser.send_time
        FROM
            z_sys_email_record zser
        LEFT JOIN z_manage_user zmu ON zser.create_by = zmu.id
        LEFT JOIN z_web_user zwu ON zser.create_by = zwu.id
    </select>
    <select id="selectPageEmailRecord" resultType="com.zifuji.cloud.server.sys.module.email.bo.EmailRecordComponentMo">
        SELECT
            zser.id,
            zser.addr_from,
            zser.addr_to,
            zser.subject,
            zser.content,
            zser.file_id_list,
            zser.send_status,
            zser.send_time
        FROM
            z_sys_email_record zser
        LEFT JOIN z_manage_user zmu ON zser.create_by = zmu.id
        LEFT JOIN z_web_user zwu ON zser.create_by = zwu.id
    </select>
    <select id="selectListEmailTemplate"
            resultType="com.zifuji.cloud.server.sys.module.email.bo.EmailTemplateComponentMo">
        SELECT
            zset.id,
            zset.create_time,
            zset.create_by,
            zset.name
        FROM
            z_sys_email_template zset
        INNER JOIN z_sys_template zst ON zset.template_id = zst.id
    </select>
    <select id="selectPageEmailTemplate"
            resultType="com.zifuji.cloud.server.sys.module.email.bo.EmailTemplateComponentMo">
        SELECT
            zset.id,
            zset.create_time,
            zset.create_by,
            zset.name,
            zset.subject
        FROM
            z_sys_email_template zset
        INNER JOIN z_sys_template zst ON zset.template_id = zst.id
    </select>

</mapper>